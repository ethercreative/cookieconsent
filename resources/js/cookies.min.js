function createCommonjsModule(e,t){return e(t={exports:{}},t.exports),t.exports}var js_cookie=createCommonjsModule(function(e,t){!function(t){if(e.exports=t(),!!0){var s=window.Cookies,i=window.Cookies=t();i.noConflict=function(){return window.Cookies=s,i}}}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var s=arguments[e];for(var i in s)t[i]=s[i]}return t}return function t(s){function i(t,a,n){var o;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(n=e({path:"/"},i.defaults,n)).expires){var c=new Date;c.setMilliseconds(c.getMilliseconds()+864e5*n.expires),n.expires=c}n.expires=n.expires?n.expires.toUTCString():"";try{o=JSON.stringify(a),/^[\{\[]/.test(o)&&(a=o)}catch(e){}a=s.write?s.write(a,t):encodeURIComponent(String(a)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=(t=(t=encodeURIComponent(String(t))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var d="";for(var l in n)n[l]&&(d+="; "+l,!0!==n[l]&&(d+="="+n[l]));return document.cookie=t+"="+a+d}t||(o={});for(var r=document.cookie?document.cookie.split("; "):[],h=/(%[0-9A-Z]{2})+/g,p=0;p<r.length;p++){var u=r[p].split("="),m=u.slice(1).join("=");this.json||'"'!==m.charAt(0)||(m=m.slice(1,-1));try{var v=u[0].replace(h,decodeURIComponent);if(m=s.read?s.read(m,v):s(m,v)||m.replace(h,decodeURIComponent),this.json)try{m=JSON.parse(m)}catch(e){}if(t===v){o=m;break}t||(o[v]=m)}catch(e){}}return o}}return i.set=i,i.get=function(e){return i.call(i,e)},i.getJSON=function(){return i.apply({json:!0},[].slice.call(arguments))},i.defaults={},i.remove=function(t,s){i(t,"",e(s,{expires:-1}))},i.withConverter=t,i}(function(){})})}),classCallCheck=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},createClass=function(){function e(e,t){for(var s=0;s<t.length;s++){var i=t[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,s,i){return s&&e(t.prototype,s),i&&e(t,i),t}}(),EtherCookies=function(){function e(){classCallCheck(this,e),this.initCookies()}return createClass(e,[{key:"initCookies",value:function(){this.state=window.ether_cookie_settings,this.updated=!1,this.createPopover(),this.createBtn(),this.createModal()}},{key:"createPopover",value:function(){var e=this;this.stage=this.state[this.state.stage],this.popover=document.createElement("div"),this.popover.id="ether_cookies","default"!==this.state.stage&&this.popover.classList.add("e_hidden");var t=document.createElement("div");t.classList.add("e_top");var s=document.createElement("span");s.innerText=this.state.title,t.appendChild(s),this.closeBtn=document.createElement("button"),this.closeBtn.classList.add("e_button"),this.closeBtn.innerText=this.stage.close,this.closeBtn.addEventListener("click",this.closeCookies.bind(this)),t.appendChild(this.closeBtn),this.popover.appendChild(t),this.description=document.createElement("div"),this.description.classList.add("e_text"),this.description.innerHTML=this.stage.description,this.popover.appendChild(this.description),this.acceptBtn=document.createElement("button"),this.acceptBtn.classList.add("e_button"),this.acceptBtn.classList.add("e_accept"),this.acceptBtn.classList.add("e_cta"),this.acceptBtn.classList.add("e_primary_btn"),this.acceptBtn.innerText=this.stage.accept,this.acceptBtn.addEventListener("click",this.popoverCta.bind(this)),"default"!==this.state.stage&&this.acceptBtn.classList.add("e_secondary_btn"),this.popover.appendChild(this.acceptBtn),document.body.appendChild(this.popover),setTimeout(function(){return e.popover.classList.add("e_active")},1500)}},{key:"createBtn",value:function(){var e=this;this.btn=document.createElement("button"),this.btn.classList.add("e_button"),this.btn.id="ether_cookies_btn",this.btn.addEventListener("click",this.togglePopover.bind(this)),"default"!==this.state.stage&&this.btn.classList.add("e_managed");var t=document.createElement("img");t.src=this.state.icon,this.btn.appendChild(t),document.body.appendChild(this.btn),setTimeout(function(){return e.btn.classList.add("e_active")},1e3)}},{key:"createModal",value:function(){var e=this;this.modal=document.createElement("div"),this.modal.id="ether_cookies_modal";var t=document.createElement("div");t.classList.add("e_bg"),t.addEventListener("click",this.closeModal.bind(this)),this.modal.appendChild(t);var s=document.createElement("div");s.classList.add("e_content");var i=document.createElement("div");i.classList.add("e_top");var a=document.createElement("span");a.innerText=this.state.modal.title,i.appendChild(a);var n=document.createElement("button");n.classList.add("e_button"),n.innerText=this.state.modal.close,n.addEventListener("click",this.closeModal.bind(this)),i.appendChild(n),s.appendChild(i);var o=document.createElement("div");o.classList.add("e_description"),o.classList.add("e_block");var c=document.createElement("span");c.innerText=this.state.modal.subtitle,o.appendChild(c);var d=document.createElement("p");d.innerHTML=this.state.modal.description,o.appendChild(d),s.appendChild(o);var l=document.createElement("div");l.classList.add("e_switches"),l.classList.add("e_block"),Object.keys(this.state.modal.switches).map(function(t){var s=e.state.modal.switches[t],i=document.createElement("div");i.classList.add("e_row");var a=document.createElement("label");a.classList.add("e_label"),s.enabled||a.classList.add("e_disabled");var n=document.createElement("input");n.type="checkbox",n.checked=s.checked,s.enabled?n.addEventListener("change",e.toggleCookies.bind(e)):n.disabled=!0,a.appendChild(n);var o=document.createElement("small");a.appendChild(o);var c=document.createElement("div");c.classList.add("e_lightswitch"),a.appendChild(c),i.appendChild(a);var d=document.createElement("div");d.classList.add("e_text");var r=document.createElement("span");r.innerText=s.title,d.appendChild(r);var h=document.createElement("p");h.innerHTML=s.description,d.appendChild(h),i.appendChild(d),l.appendChild(i)}),s.appendChild(l),this.modalClose=document.createElement("button"),this.modalClose.classList.add("e_button"),this.modalClose.classList.add("e_close"),this.modalClose.classList.add("e_cta"),this.modalClose.classList.add("e_secondary_btn"),this.modalClose.innerText="Close preferences",this.modalClose.addEventListener("click",this.modalCta.bind(this)),s.appendChild(this.modalClose),this.modal.appendChild(s),document.body.appendChild(this.modal),window.addEventListener("keyup",function(t){27===t.keyCode&&e.closeModal()})}},{key:"closeCookies",value:function(){void 0!==js_cookie.get(this.state.cookieName)?(this.popover.classList.add("e_hidden"),this.btn.classList.toggle("e_managed")):this.declineCookies()}},{key:"declineCookies",value:function(){Object.keys(js_cookie.get()).map(function(e){return js_cookie.remove(e)});var e=parseInt(this.state.cookieLength);js_cookie.set(this.state.cookieName,"false",{expires:e}),window.location.reload()}},{key:"acceptCookies",value:function(){var e=(new Date).getTime(),t=parseInt(this.state.cookieLength);js_cookie.set(this.state.cookieName,"true",{expires:t}),js_cookie.set(this.state.cookieName+"_time",e,{cookieLength:t}),window.location.reload()}},{key:"toggleCookies",value:function(e){if(e||e.target){switch(e.target.checked){case!0:this.state.stage="accepted";break;default:this.state.stage="declined"}this.modalClose.innerText="Save preferences",this.modalClose.classList.remove("e_secondary_btn"),this.modalClose.classList.add("e_primary_btn"),this.updated=!0}}},{key:"popoverCta",value:function(){switch(this.state.stage){case"declined":case"accepted":this.openModal();break;default:this.acceptCookies()}}},{key:"modalCta",value:function(){if(this.updated)switch(this.state.stage){case"accepted":this.acceptCookies();break;default:this.declineCookies()}else this.closeModal()}},{key:"togglePopover",value:function(){this.popover.classList.toggle("e_hidden"),"default"!==this.state.stage&&this.btn.classList.toggle("e_managed")}},{key:"openModal",value:function(){this.togglePopover(),this.modal.classList.add("e_active")}},{key:"closeModal",value:function(){this.modal.classList.remove("e_active")}}]),e}();new EtherCookies;
//# sourceMappingURL=cookies.min.js.map