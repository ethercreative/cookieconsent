function createCommonjsModule(e,t){return e(t={exports:{}},t.exports),t.exports}var js_cookie=createCommonjsModule(function(e,t){!function(t){if(e.exports=t(),!!0){var i=window.Cookies,s=window.Cookies=t();s.noConflict=function(){return window.Cookies=i,s}}}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var i=arguments[e];for(var s in i)t[s]=i[s]}return t}return function t(i){function s(t,a,n){var o;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(n=e({path:"/"},s.defaults,n)).expires){var c=new Date;c.setMilliseconds(c.getMilliseconds()+864e5*n.expires),n.expires=c}n.expires=n.expires?n.expires.toUTCString():"";try{o=JSON.stringify(a),/^[\{\[]/.test(o)&&(a=o)}catch(e){}a=i.write?i.write(a,t):encodeURIComponent(String(a)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=(t=(t=encodeURIComponent(String(t))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var d="";for(var l in n)n[l]&&(d+="; "+l,!0!==n[l]&&(d+="="+n[l]));return document.cookie=t+"="+a+d}t||(o={});for(var r=document.cookie?document.cookie.split("; "):[],h=/(%[0-9A-Z]{2})+/g,p=0;p<r.length;p++){var u=r[p].split("="),m=u.slice(1).join("=");this.json||'"'!==m.charAt(0)||(m=m.slice(1,-1));try{var v=u[0].replace(h,decodeURIComponent);if(m=i.read?i.read(m,v):i(m,v)||m.replace(h,decodeURIComponent),this.json)try{m=JSON.parse(m)}catch(e){}if(t===v){o=m;break}t||(o[v]=m)}catch(e){}}return o}}return s.set=s,s.get=function(e){return s.call(s,e)},s.getJSON=function(){return s.apply({json:!0},[].slice.call(arguments))},s.defaults={},s.remove=function(t,i){s(t,"",e(i,{expires:-1}))},s.withConverter=t,s}(function(){})})}),classCallCheck=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,i,s){return i&&e(t.prototype,i),s&&e(t,s),t}}(),EtherCookies=function(){function e(){classCallCheck(this,e),this.initCookies()}return createClass(e,[{key:"initCookies",value:function(){this.state=window.ether_cookie_settings,this.updated=!1,this.createPopover(),this.createBtn(),this.createModal()}},{key:"createPopover",value:function(){var e=this;this.stage=this.state[this.state.stage],this.popover=document.createElement("div"),this.popover.id="ether_cookies","default"!==this.state.stage&&this.popover.classList.add("hidden");var t=document.createElement("div");t.classList.add("e_top");var i=document.createElement("span");i.innerText=this.state.title,t.appendChild(i),this.closeBtn=document.createElement("a"),this.closeBtn.innerText=this.stage.close,this.closeBtn.addEventListener("click",this.closeCookies.bind(this)),t.appendChild(this.closeBtn),this.popover.appendChild(t),this.description=document.createElement("div"),this.description.classList.add("e_text"),this.description.innerHTML=this.stage.description,this.popover.appendChild(this.description),this.acceptBtn=document.createElement("a"),this.acceptBtn.classList.add("e_accept"),this.acceptBtn.classList.add("e_cta"),this.acceptBtn.classList.add("e_primary_btn"),this.acceptBtn.innerText=this.stage.accept,this.acceptBtn.addEventListener("click",this.popoverCta.bind(this)),"default"!==this.state.stage&&this.acceptBtn.classList.add("e_secondary_btn"),this.popover.appendChild(this.acceptBtn),document.body.appendChild(this.popover),setTimeout(function(){return e.popover.classList.add("active")},1500)}},{key:"createBtn",value:function(){var e=this;this.btn=document.createElement("a"),this.btn.id="ether_cookies_btn",this.btn.addEventListener("click",this.togglePopover.bind(this)),"default"!==this.state.stage&&this.btn.classList.add("managed");var t=document.createElement("img");t.src=this.state.icon,this.btn.appendChild(t),document.body.appendChild(this.btn),setTimeout(function(){return e.btn.classList.add("active")},1e3)}},{key:"createModal",value:function(){var e=this;this.modal=document.createElement("div"),this.modal.id="ether_cookies_modal";var t=document.createElement("div");t.classList.add("e_bg"),t.addEventListener("click",this.closeModal.bind(this)),this.modal.appendChild(t);var i=document.createElement("div");i.classList.add("e_content");var s=document.createElement("div");s.classList.add("e_top");var a=document.createElement("span");a.innerText=this.state.modal.title,s.appendChild(a);var n=document.createElement("a");n.innerText=this.state.modal.close,n.addEventListener("click",this.closeModal.bind(this)),s.appendChild(n),i.appendChild(s);var o=document.createElement("div");o.classList.add("e_description"),o.classList.add("e_block");var c=document.createElement("span");c.innerText=this.state.modal.subtitle,o.appendChild(c);var d=document.createElement("p");d.innerHTML=this.state.modal.description,o.appendChild(d),i.appendChild(o);var l=document.createElement("div");l.classList.add("e_switches"),l.classList.add("e_block"),Object.keys(this.state.modal.switches).map(function(t){var i=e.state.modal.switches[t],s=document.createElement("div");s.classList.add("e_row");var a=document.createElement("label");a.classList.add("e_label");var n=document.createElement("input");n.type="checkbox",n.checked=i.checked,i.enabled?n.addEventListener("change",e.toggleCookies.bind(e)):n.disabled=!0,a.appendChild(n);var o=document.createElement("small");a.appendChild(o);var c=document.createElement("div");c.classList.add("lightswitch"),a.appendChild(c),s.appendChild(a);var d=document.createElement("div");d.classList.add("e_text");var r=document.createElement("span");r.innerText=i.title,d.appendChild(r);var h=document.createElement("p");h.innerHTML=i.description,d.appendChild(h),s.appendChild(d),l.appendChild(s)}),i.appendChild(l),this.modalClose=document.createElement("a"),this.modalClose.classList.add("e_close"),this.modalClose.classList.add("e_cta"),this.modalClose.classList.add("e_secondary_btn"),this.modalClose.innerText="Close preferences",this.modalClose.addEventListener("click",this.modalCta.bind(this)),i.appendChild(this.modalClose),this.modal.appendChild(i),document.body.appendChild(this.modal),window.addEventListener("keyup",function(t){27===t.keyCode&&e.closeModal()})}},{key:"closeCookies",value:function(){-1===this.state.stage.indexOf("accepted")&&this.declineCookies(),this.popover.classList.add("hidden"),this.btn.classList.toggle("managed")}},{key:"declineCookies",value:function(){var e=parseInt(this.state.cookieLength);js_cookie.set(this.state.cookieName,"false",{expires:e}),window.location.reload()}},{key:"acceptCookies",value:function(){var e=(new Date).getTime(),t=parseInt(this.state.cookieLength);js_cookie.set(this.state.cookieName,"true",{expires:t}),js_cookie.set(this.state.cookieName+"_time",e,{cookieLength:t}),window.location.reload()}},{key:"toggleCookies",value:function(e){if(e||e.target){switch(e.target.checked){case!0:this.state.stage="accepted";break;default:this.state.stage="declined"}this.modalClose.innerText="Save preferences",this.modalClose.classList.remove("e_secondary_btn"),this.modalClose.classList.add("e_primary_btn"),this.updated=!0}}},{key:"popoverCta",value:function(){switch(this.state.stage){case"declined":case"accepted":this.openModal();break;default:this.acceptCookies()}}},{key:"modalCta",value:function(){if(this.updated)switch(this.state.stage){case"accepted":this.acceptCookies();break;default:this.declineCookies()}else this.closeModal()}},{key:"togglePopover",value:function(){this.popover.classList.toggle("hidden"),"default"!==this.state.stage&&this.btn.classList.toggle("managed")}},{key:"openModal",value:function(){this.togglePopover(),this.modal.classList.add("active")}},{key:"closeModal",value:function(){this.modal.classList.remove("active")}}]),e}();new EtherCookies;
//# sourceMappingURL=cookies.min.js.map